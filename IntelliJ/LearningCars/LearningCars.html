<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Learning Cars</title>
    <style>
        * { padding: 0; margin: 0; }
        canvas { background: #7b7b7b; display: block; margin: 0 auto; }
    </style>
</head>
<body>

<canvas id="myCanvas" width="1400" height="700"></canvas>

<script src="Game/Vector.js"></script>
<script src="Game/Line.js"></script>
<script src="Game/Checkpoint.js"></script>
<script src="Game/Circuit.js"></script>
<script src="Game/Car.js"></script>
<script src="Game/Game.js"></script>
<script src="Game/HumanController.js"></script>

<script src="Network/Input.js"></script>
<script src="Network/Connection.js"></script>
<script src="Network/Neuron.js"></script>
<script src="Network/Network.js"></script>
<script src="Network/NetworkSave.js"></script>
<script src="Network/Drawer.js"></script>
<script src="Game/NetworkController.js"></script>

<script src="GeneticAlgorithm/Agent.js"></script>
<script src="GeneticAlgorithm/Algorithm.js"></script>

<script>

    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");

    const training = false;

    if(training)
        GeneticAlgorithm.launch();
    else
        humanGame();

    function humanGame() {

        let game = new Game();
        game.cars.push(new Car(true));
        game.cars.push(new Car(false));
        game.cars[1].controller.network = NetworkSave.parse(
            "9\n" +
            "\n" +
            "\n" +
            "0.2378474559299596\n" +
            "0 0 0.7492205149164708\n" +
            "0 1 0.15840000906982166\n" +
            "0 2 -0.9344555710269007\n" +
            "0 3 -0.49821301929381745\n" +
            "0 4 1.0552699493613105\n" +
            "0 5 0.4116088691140683\n" +
            "0 6 0.3530498103494589\n" +
            "0 7 0.3204758257288819\n" +
            "0 8 -1.1746709156777524\n" +
            "\n" +
            "-0.29587789457666047\n" +
            "0 0 0.5344472456507329\n" +
            "0 1 -0.2598517702530017\n" +
            "0 2 -0.3668900616719226\n" +
            "0 3 0.9108552829591144\n" +
            "0 4 0.3419402029496755\n" +
            "0 5 -0.11826111608302625\n" +
            "0 6 -0.4863027991092902\n" +
            "0 7 0.07796363774567529\n" +
            "0 8 -1.013067165397254\n" +
            "\n" +
            "-0.19829508798685708\n" +
            "0 0 1.1602357882560361\n" +
            "0 1 -0.4887761266906438\n" +
            "0 2 0.6699558477974218\n" +
            "0 3 0.5476022276173496\n" +
            "0 4 -0.7045395677176106\n" +
            "0 5 -0.5083984493191918\n" +
            "0 6 0.30490837228284473\n" +
            "0 7 -0.32051653712392963\n" +
            "0 8 0.4762432490000523\n" +
            "\n" +
            "0.6086359180058374\n" +
            "0 0 -0.6259134852775523\n" +
            "0 1 0.9380127774434577\n" +
            "0 2 -0.9362144453260036\n" +
            "0 3 0.12603144395353386\n" +
            "0 4 -0.9368802881811109\n" +
            "0 5 -0.42130130352780176\n" +
            "0 6 0.9941177219942887\n" +
            "0 7 0.34458475532627897\n" +
            "0 8 0.2874921710979737"
        );
        game.initCars();

        function tick() {
            game.update();
            game.draw();
            game.drawNetwork(game.cars[1].controller.network);
        }

        setInterval(tick, 10);
    }

</script>

</body>
</html>