<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Logic Gate Simulator</title>
</head>
<body>

<canvas id="canvas" width="1400" height="700"></canvas>
<style>
    html, body {
        overflow: hidden;
        margin: 0 !important;
        padding: 0 !important;
    }

</style>

<script src="Gate/Basic.js"></script>
<script src="Gate/Connection.js"></script>
<script src="Gate/Gate.js"></script>
<script src="Gate/Special/Clock.js"></script>
<script src="Gate/Special/Output.js"></script>
<script src="Gate/Special/Switch.js"></script>
<script src="Gate/Special/Input.js"></script>

<script src="Interface/Interface.js"></script>
<script src="Interface/Button.js"></script>
<script src="Interface/Interactions/UserInteraction.js"></script>
<script src="Interface/Interactions/BuildMode.js"></script>
<script src="Interface/Interactions/WiringMode.js"></script>
<script src="Interface/Interactions/InteractionMode.js"></script>

<script>

    //TODO: Pouvoir modifier la periode de la clock
    //TODO: Systeme de creation de porte custom a partir d'un circuit
    //TODO: Zoom

    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    Interface.init();

    setInterval(() => {

        Interface.clear();
        UserInteraction.update();
        Gate.updateAll(gates);
        Gate.drawAll(gates);
        Interface.draw();

    }, 10);

    //Outil pour supprimer des elements d'une array
    Array.prototype.remove = function(value) {
        return this.filter(function(e){
            return e !== value;
        });
    };

    //Garde toujours le canvas en pleine page
    function resizeCanvas() {
        canvas.width = window.innerWidth+1;
        setTimeout(function() {
            canvas.height = window.innerHeight+1;
        }, 0);
    }
    window.onresize = resizeCanvas;
    resizeCanvas();

</script>

</body>
</html>